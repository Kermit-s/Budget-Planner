<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Budget Planner Online</title>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />
    <link rel="stylesheet" href="./styles.css" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üí∞</text></svg>">
    <meta name="color-scheme" content="light dark" />
  </head>
  <body>
    <header class="app-header container">
      <div class="brand">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M12 1.5A10.5 10.5 0 1 0 22.5 12 10.512 10.512 0 0 0 12 1.5Zm.75 3a.75.75 0 0 0-1.5 0v.63A4.875 4.875 0 0 0 7.5 9.75a.75.75 0 0 0 1.5 0 3.375 3.375 0 0 1 3.75-3.36c1.47.18 2.25.96 2.25 1.86 0 .96-.6 1.47-2.31 2.01l-.6.18c-1.95.6-3.54 1.53-3.54 3.51 0 1.8 1.29 3.15 3.24 3.45v.6a.75.75 0 0 0 1.5 0v-.57c1.68-.21 2.97-1.08 3.54-2.55a.75.75 0 0 0-1.39-.54c-.36.93-1.23 1.47-2.4 1.65-1.71.24-3.24-.45-3.24-1.92 0-1.02.84-1.59 2.46-2.1l.63-.18c2.07-.6 3.36-1.53 3.36-3.42 0-1.92-1.47-3.27-3.51-3.54Z" fill="currentColor" />
        </svg>
        <h1>Budget Planner Online</h1>
      </div>
      <div class="header-actions">
        <button id="prevMonthBtn" class="icon-btn" type="button" aria-label="Previous month">‚Üê</button>
        <div id="monthBadge" class="month-badge" title="Selected month"></div>
        <button id="nextMonthBtn" class="icon-btn" type="button" aria-label="Next month">‚Üí</button>
        <div id="saveIndicator" class="save-indicator" aria-live="polite">Saved</div>
        <label class="theme-toggle" title="Toggle dark mode">
          <input id="themeToggle" type="checkbox" />
          <span>Dark</span>
        </label>
      </div>
    </header>

    <div class="container hero-banner" role="note" aria-label="Key message">
      <p><strong>Fastest budget planner</strong> ‚Äî no login, no data sharing, completely free.</p>
    </div>

    <main class="container grid">
      <section class="card" aria-labelledby="setup-title">
        <div class="section-header">
          <h2 id="setup-title">Quick Budget Setup</h2>
          <div class="inline-controls">
            <label>
              <span>Month</span>
              <input id="monthInput" type="month" />
            </label>
            <label>
              <span>Currency</span>
              <select id="currencySelect" aria-label="Select currency">
                <option value="AUD">AUD A$</option>
                <option value="BRL">BRL R$</option>
                <option value="CAD">CAD C$</option>
                <option value="CHF">CHF Fr.</option>
                <option value="CNY">CNY ¬•</option>
                <option value="CZK">CZK Kƒç</option>
                <option value="DKK">DKK kr</option>
                <option value="EUR">EUR ‚Ç¨</option>
                <option value="GBP">GBP ¬£</option>
                <option value="HKD">HKD HK$</option>
                <option value="HUF">HUF Ft</option>
                <option value="INR">INR ‚Çπ</option>
                <option value="JPY">JPY ¬•</option>
                <option value="MXN">MXN Mex$</option>
                <option value="NOK">NOK kr</option>
                <option value="NZD">NZD NZ$</option>
                <option value="PLN">PLN z≈Ç</option>
                <option value="RON">RON lei</option>
                <option value="SEK">SEK kr</option>
                <option value="SGD">SGD S$</option>
                <option value="TRY">TRY ‚Ç∫</option>
                <option value="USD" selected>USD $</option>
                <option value="ZAR">ZAR R</option>
              </select>
            </label>
            <div class="secondary-controls">
              <div id="secondaryControls" class="sc-wrap">
                <label>
                  <span>Second Currency</span>
                  <select id="secondaryCurrencySelect" aria-label="Select secondary currency">
                    <option value="AUD">AUD A$</option>
                    <option value="BRL">BRL R$</option>
                    <option value="CAD">CAD C$</option>
                    <option value="CHF">CHF Fr.</option>
                    <option value="CNY">CNY ¬•</option>
                    <option value="CZK">CZK Kƒç</option>
                    <option value="DKK">DKK kr</option>
                    <option value="EUR">EUR ‚Ç¨</option>
                    <option value="GBP">GBP ¬£</option>
                    <option value="HKD">HKD HK$</option>
                    <option value="HUF">HUF Ft</option>
                    <option value="INR">INR ‚Çπ</option>
                    <option value="JPY">JPY ¬•</option>
                    <option value="MXN">MXN Mex$</option>
                    <option value="NOK">NOK kr</option>
                    <option value="NZD">NZD NZ$</option>
                    <option value="PLN">PLN z≈Ç</option>
                    <option value="RON">RON lei</option>
                    <option value="SEK">SEK kr</option>
                    <option value="SGD">SGD S$</option>
                    <option value="TRY">TRY ‚Ç∫</option>
                    <option value="USD">USD $</option>
                    <option value="ZAR">ZAR R</option>
                  </select>
                </label>
                <button id="removeCurrencyBtn" type="button" class="danger">Remove Currency</button>
              </div>
            </div>
          </div>
        </div>

        <div class="form-row">
          <label class="full">
            <span>Total Income</span>
            <input id="incomeInput" type="number" min="0" step="0.01" placeholder="0.00" />
          </label>
        </div>

        <div class="form-row">
          <label class="full">
            <span>Savings Goal (optional)</span>
            <input id="goalInput" type="number" min="0" step="0.01" placeholder="0.00" />
          </label>
        </div>

        <div class="toolbar">
          <div class="spacer"></div>
          <button id="saveBtn" class="primary" type="button">Save Budget</button>
          <button id="resetBtn" class="danger" type="button">Reset</button>
        </div>

        <div class="notice" role="note">
          <strong>Heads up:</strong> Your budget is saved locally in this browser. Press <em>Save Budget</em> before leaving or switching devices. Clearing browser data will remove your saved budgets.
        </div>

        <div class="table-wrap">
          <div class="table-head">
            <div>Category</div>
            <div class="right">Amount</div>
            <div class="center">Color</div>
            <div class="center">Action</div>
          </div>
          <div id="categoryList" class="table-body" aria-live="polite"></div>
          <div class="table-foot add-row">
            <input id="customCategoryName" type="text" placeholder="Custom category name" />
            <input id="customCategoryAmount" type="number" min="0" step="0.01" placeholder="0.00" />
            <button id="addCategoryBtn" type="button">Add</button>
          </div>
        </div>
      </section>

      <section class="card" aria-labelledby="summary-title">
        <div class="section-header">
          <h2 id="summary-title">Summary & Insights</h2>
        </div>

        <div class="summary">
          <div class="summary-row">
            <span>Income</span>
            <div class="summary-amount">
              <strong id="incomeTotal">$0.00</strong>
              <div id="incomeTotalSecondary" class="secondary-amount"></div>
            </div>
          </div>
          <div class="summary-row">
            <span>Expenses</span>
            <div class="summary-amount">
              <strong id="expenseTotal">$0.00</strong>
              <div id="expenseTotalSecondary" class="secondary-amount"></div>
            </div>
          </div>
          <div class="summary-row">
            <span>Balance</span>
            <div class="summary-amount">
              <strong id="balanceTotal">$0.00</strong>
              <div id="balanceTotalSecondary" class="secondary-amount"></div>
            </div>
          </div>
          <div class="summary-row goal-row">
            <span>Savings Goal</span>
            <div class="summary-amount">
              <strong id="goalLabel">$0.00</strong>
              <div id="goalLabelSecondary" class="secondary-amount"></div>
            </div>
          </div>
          <div class="progress">
            <div id="goalProgress" class="progress-bar" style="width: 0%"></div>
          </div>
        </div>

        <div class="section-subheader">
          <h3>Category % of Income</h3>
        </div>
        <div id="incomeBreakdownList" class="breakdown-list" aria-live="polite"></div>

        <div class="charts">
          <div class="chart-card">
            <h3 class="chart-title">Expenses vs Income</h3>
            <canvas id="donutChart" height="220"></canvas>
          </div>
          <div class="chart-card">
            <h3 class="chart-title">Monthly Spending</h3>
            <canvas id="barChart" height="220"></canvas>
          </div>
        </div>

        <div class="toolbar">
          <button id="exportCsvBtn" type="button">Export CSV</button>
          <button id="printBtn" class="secondary" type="button">Print / Save PDF</button>
        </div>
      </section>
    </main>

    <footer class="container footer">
      <p>Built for simplicity. Your data stays in your browser.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <script>
      // Improve Chart.js print rendering by redrawing before print
      window.addEventListener('beforeprint', () => { try { if (window.donutChart) window.donutChart.resize(); if (window.barChart) window.barChart.resize(); } catch (e) {} });
      window.addEventListener('afterprint', () => { try { if (window.donutChart) window.donutChart.resize(); if (window.barChart) window.barChart.resize(); } catch (e) {} });
    </script>
    <script src="./script.js"></script>
  </body>
  </html>


